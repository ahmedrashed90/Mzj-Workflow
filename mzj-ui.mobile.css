/* MZJ Mobile UI — Admin page optimizations
   هدف الملف: تحويل تجربة admin.html لموبايل بشكل ثابت بدون كسر اللوجيك
*/
@media (max-width: 768px){

  :root{
    --m-gap:10px;
    --m-radius:14px;
  }

  html,body{overflow-x:hidden}
  body{background:var(--cream)}

  /* ====== Topbar: موبايل (سطر واحد) ====== */
  .mzj-topbar{
    position:sticky;
    top:0;
    z-index:2500;
    height:52px;
    padding:0 10px;
    background:#fff;
    border-bottom:1px solid var(--line);
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
  }
  /* نخلي العناصر في سطر واحد */
  .mzj-topbar .topbar-left,
  .mzj-topbar .topbar-center,
  .mzj-topbar .topbar-right{
    display:flex;
    align-items:center;
    gap:10px;
    min-width:0;
  }
  /* نخفي الزحمة على الموبايل */
  .mzj-topbar .brand-sub,
  .mzj-topbar .mzj-chip,
  .mzj-topbar .btn-ghost{
    display:none !important;
  }
  .mzj-topbar .brand-title{
    font-size:13px;
    font-weight:700;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
    max-width:60vw;
  }
  .mzj-topbar .brand-mark{
    width:38px;
    height:38px;
    border-radius:12px;
    display:grid;
    place-items:center;
  }
  .mzj-topbar .icon-btn{
    width:36px;
    height:36px;
    border-radius:12px;
  }

  /* ====== Sidebar: يفتح/يقفل من زر أعلى اليمين (موجود بالفعل id=mzjSidebarBtn) ====== */
  /* نعتمد على كلاس body.mzj-sidebar-open */
  .mzj-sidebar{
    position:fixed !important;
    top:0; right:0;
    height:100vh;
    width:260px;
    max-width:80vw;
    transform:translateX(110%);
    transition:transform .22s ease;
    z-index:3000;
    overflow:auto;
    border-left:1px solid var(--line);
  }
  body.mzj-sidebar-open .mzj-sidebar{transform:translateX(0)}

  .mzj-backdrop{
    position:fixed !important;
    inset:0;
    background:rgba(0,0,0,.38);
    opacity:0;
    pointer-events:none;
    transition:opacity .2s ease;
    z-index:2900;
  }
  body.mzj-sidebar-open .mzj-backdrop{
    opacity:1;
    pointer-events:auto;
  }

  /* ====== محتوى الصفحة: مساحات أقل ====== */
  .mzj-content{padding:0 !important}
  .container{padding:0 10px 22px !important; margin:12px auto !important; max-width:100% !important}
  .card{padding:12px !important; border-radius:var(--m-radius) !important}
  .card-header{gap:8px !important}

  /* ====== Tabs -> Dropdown (نخفي التابات ونظهر select) ====== */
  .mzj-tabs{display:none !important}
  .mzj-tabs-select{
    display:block !important;
    width:100%;
    padding:12px 12px;
    border:1px solid var(--line);
    border-radius:14px;
    background:#fff;
    font-size:14px;
    margin-bottom:10px;
  }

  /* ====== Buttons ====== */
  .btn{border-radius:14px !important}
  .btn, button{font-size:14px !important}
  .btn-group{gap:8px !important; flex-wrap:wrap}

  /* ====== جداول: نلغي الهوامش ونحسن المساحة ====== */
  .table-wrap{padding:0 !important; margin:0 !important; border:none !important}
  table{margin:0 !important}
  th,td{padding:8px 8px !important}

  /* ====== تحويل الجداول إلى كروت Grid (3 أعمدة في كل صف) ====== */
  .mzj-table-cards{
    display:grid;
    grid-template-columns:1fr;
    gap:10px;
  }
  .mzj-row-card{
    background:#fff;
    border:1px solid var(--line);
    border-radius:16px;
    padding:10px;
  }
  .mzj-row-grid{
    display:grid;
    grid-template-columns:repeat(3, minmax(0, 1fr)); /* ✅ 3 أعمدة */
    gap:8px;
  }
  .mzj-cell{
    border:1px solid #f0f0f0;
    border-radius:12px;
    padding:8px;
    min-width:0;
  }
  .mzj-cell .mzj-k{
    font-size:11px;
    opacity:.75;
    margin-bottom:4px;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
  }
  .mzj-cell .mzj-v{
    font-size:13px;
    font-weight:600;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
  }
  .mzj-row-actions{
    margin-top:10px;
    display:flex;
    gap:8px;
    flex-wrap:wrap;
  }
  .mzj-row-actions .btn{
    flex:1;
    min-width:120px;
  }

  /* شاشات أصغر: نخليها 2 أعمدة */
  @media (max-width: 420px){
    .mzj-row-grid{grid-template-columns:repeat(2, minmax(0, 1fr));}
    .mzj-topbar .brand-title{max-width:55vw;}
  }
}
