/* photoshoot-user.m.css — Mobile overrides
   ✅ Drawer sidebar
   ✅ Tables/cards mobile friendly
*/
html,body{max-width:100%;overflow-x:hidden}
@media (max-width:900px){
  .mzj-shell{display:block!important}
  main, .container{width:100%!important;margin:0!important;padding:12px!important}

  header.mzj-topbar{
    position:sticky;top:0;z-index:60;
    padding:10px 12px!important;
    background:rgba(255,248,239,.95);
    border-bottom:1px solid rgba(62,36,32,.14)
  }
  header.mzj-topbar .topbar-center,
  header.mzj-topbar .topbar-right{display:none!important}

  .mzj-sidebar{
    position:fixed!important;
    top:0;right:0;height:100vh;
    width:280px;max-width:86vw;
    transform:translateX(110%);
    transition:.22s;
    background:#fff;z-index:80;
    border-left:1px solid rgba(0,0,0,.12)
  }
  .mzj-sidebar.open{transform:translateX(0)}

  #mzjBackdrop{
    position:fixed;inset:0;
    background:rgba(0,0,0,.35);
    opacity:0;pointer-events:none;
    transition:.18s;z-index:70
  }
  #mzjBackdrop.show{opacity:1;pointer-events:auto}

  table{width:100%!important}
  input,select,textarea{font-size:16px!important}
}



/* ===============================
   Mobile Table Fix (Create Order)
   - يحوّل الجدول من عرض إلى طول
   - كل صف يتحول Grid (3 خانات في الصف) + عناوين
   =============================== */
@media (max-width:900px){

  /* fallback: لو فيه أي جدول لازم يكون قابل للعرض بدون قص */
  .table-wrap, .table-container, .table-responsive{
    width:100% !important;
    overflow-x:auto !important;
  }

  table.mzj-mobile-table{
    width:100% !important;
    border-collapse: separate !important;
    border-spacing: 0 !important;
    display:block !important;
  }
  table.mzj-mobile-table thead{ display:none !important; }
  table.mzj-mobile-table tbody{ display:block !important; }

  table.mzj-mobile-table tbody tr{
    display:grid !important;
    grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
    gap: 10px !important;
    padding: 12px !important;
    margin: 0 0 12px 0 !important;
    background:#fff !important;
    border: 1px solid rgba(0,0,0,.08) !important;
    border-radius: 16px !important;
    box-shadow: 0 6px 18px rgba(0,0,0,.05) !important;
  }

  table.mzj-mobile-table tbody td{
    display:block !important;
    background:#fff !important;
    border: 1px solid rgba(0,0,0,.06) !important;
    border-radius: 14px !important;
    padding: 10px !important;
    min-width:0 !important;
    direction: rtl !important;
    text-align: right !important;
    font-weight: 800 !important;
    line-height: 1.35 !important;
    word-break: break-word !important;
  }

  table.mzj-mobile-table tbody td::before{
    content: attr(data-label);
    display:block;
    font-size: 11px;
    opacity: .75;
    margin-bottom: 6px;
    font-weight: 600;
    white-space: nowrap;
    overflow:hidden;
    text-overflow: ellipsis;
  }

  @media (max-width: 420px){
    table.mzj-mobile-table tbody tr{
      grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    }
  }
}



/* ===============================
   Mobile Table Layout Tweak
   المطلوب: بدل 3 في الصف نخلي 2 في الصف (عشان البيانات ما تبقاش ناقصة/مقصوصة)
   وعلى الشاشات الأعرض (520px+) نخليها 3 في الصف
   =============================== */
@media (max-width:900px){
  table.mzj-mobile-table tbody tr{
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }
  /* لو داخل الخلايا فيه select/input نخليهم ياخدوا عرض الخلية */
  table.mzj-mobile-table tbody td select,
  table.mzj-mobile-table tbody td input,
  table.mzj-mobile-table tbody td textarea{
    width:100% !important;
    max-width:100% !important;
    box-sizing:border-box !important;
  }
}
@media (min-width:520px) and (max-width:900px){
  table.mzj-mobile-table tbody tr{
    grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
  }
}



/* ===============================
   OPTION A — Create Order as Form Grid (Mobile)
   #inner-create: كل صف = Form Grid (2 حقول جنب بعض)
   - صف (الرقم + مسح)
   - (نوع + VIN)
   - (السيارة + الفئة)
   - (الخارجي + الداخلي)
   - (الموديل + المكان)
   - (مكان التصوير) صف كامل
   - (ملاحظة) صف كامل
   =============================== */
@media (max-width:900px){

  /* نستهدف جدول إنشاء الطلب فقط */
  #inner-create .tableWrap{ overflow-x: visible !important; }
  #inner-create table.mzj-formgrid{
    width:100% !important;
    display:block !important;
    border-collapse: separate !important;
    border-spacing: 0 !important;
  }
  #inner-create table.mzj-formgrid thead{ display:none !important; }
  #inner-create table.mzj-formgrid tbody{ display:block !important; }

  #inner-create table.mzj-formgrid tbody tr{
    display:grid !important;
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    gap: 10px !important;
    padding: 12px !important;
    margin: 0 0 12px 0 !important;
    background:#fff !important;
    border: 1px solid rgba(0,0,0,.08) !important;
    border-radius: 16px !important;
    box-shadow: 0 6px 18px rgba(0,0,0,.05) !important;
  }

  #inner-create table.mzj-formgrid tbody td{
    display:block !important;
    background:#fff !important;
    border: 1px solid rgba(0,0,0,.06) !important;
    border-radius: 14px !important;
    padding: 10px !important;
    min-width:0 !important;
    direction: rtl !important;
    text-align: right !important;
    font-weight: 800 !important;
    line-height: 1.35 !important;
    word-break: break-word !important;
    overflow:hidden !important;
  }

  /* label فوق كل قيمة */
  #inner-create table.mzj-formgrid tbody td::before{
    content: attr(data-label);
    display:block;
    font-size: 11px;
    opacity: .75;
    margin-bottom: 6px;
    font-weight: 600;
    white-space: nowrap;
    overflow:hidden;
    text-overflow: ellipsis;
  }

  /* inputs/selects full width */
  #inner-create table.mzj-formgrid tbody td select,
  #inner-create table.mzj-formgrid tbody td input,
  #inner-create table.mzj-formgrid tbody td textarea{
    width:100% !important;
    max-width:100% !important;
    box-sizing:border-box !important;
  }

  /* Full-width fields: مكان التصوير (10) + ملاحظة (11) */
  #inner-create table.mzj-formgrid tbody td:nth-child(10),
  #inner-create table.mzj-formgrid tbody td:nth-child(11){
    grid-column: 1 / -1 !important;
  }

  /* Row number (#1) smaller and centered */
  #inner-create table.mzj-formgrid tbody td:nth-child(1){
    text-align:center !important;
  }

  /* Delete column (12) center + keep button full */
  #inner-create table.mzj-formgrid tbody td:nth-child(12){
    text-align:center !important;
  }
  #inner-create table.mzj-formgrid tbody td:nth-child(12) button{
    width:100% !important;
  }
}
/* ===== Compact Create Order Form ===== */
#inner-create {
  padding-bottom: 60px;
}

/* grid rows */
#inner-create tr {
  margin-bottom: 8px !important;
}

/* cells */
#inner-create td {
  padding: 6px !important;
}

/* inputs & selects */
#inner-create input,
#inner-create select,
#inner-create textarea {
  height: 42px !important;
  padding: 6px 10px !important;
  font-size: 14px;
}

/* textarea أقل ارتفاع */
#inner-create textarea {
  min-height: 60px !important;
}

/* labels */
#inner-create .label,
#inner-create label {
  font-size: 12px;
  margin-bottom: 4px;
}

/* modal body */
.modal-body {
  padding: 12px !important;
}

/* prevent huge empty scroll */
.modal-body {
  max-height: calc(100vh - 140px);
  overflow-y: auto;
}
